{"version":3,"file":"index.7a8f57ab.js","sources":["../../vite/modulepreload-polyfill","../../src/js/sanctuary.js","../../src/js/types.js","../../src/js/main.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","import sanctuary from 'sanctuary';\nimport $         from 'sanctuary-def';\nimport show      from 'sanctuary-show';\nimport * as F    from 'fluture';\nimport {\n  env as flutureEnv\n}                from 'fluture-sanctuary-types';\n\n\nconst $Event = $.NullaryType\n  ('Event')\n  ('https://devdocs.io/dom/event')\n  ([])\n  (x => Object.prototype.toString.call (x) === '[object Event]');\n\n\nconst S = sanctuary.create ({\n\tcheckTypes: import.meta.env.DEV,\n  env: sanctuary.env.concat (flutureEnv).concat ($Event)\n});\n\nexport { S,\t$, F, show };\n","import { $ } from './sanctuary.js';\n\n//    createEnum :: String -> Array String -> Type\nconst createEnum = name => values => $.EnumType\n  (name)\n  ('')\n  (values)\n\n//    $DateIso :: NullaryType\nconst $DateIso = (\n  $.NullaryType ('DateIso')\n                ('https://www.w3.org/QA/Tips/iso-date')\n                ([$.String])\n                (x => {\n                  // debugger;\n                  return /^\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2]\\d|3[0-1])$/.test (x)\n                })\n);\n\n//    $Email :: NullaryType\nconst $Email = (\n  $.NullaryType ('Email')\n                ('https://datatracker.ietf.org/doc/html/rfc5322#section-3.4.1')\n                ([$.String])\n                (x => {\n                  // debugger;\n                  return /^[A-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?(?:\\.[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?)*$/i.test (x)\n                })\n);\n\nexport {\n  createEnum,\n  $DateIso,\n  $Email\n};\n","import '../index.css';\n\nimport {\n  S,\n  $,\n  F,\n  show\n} from './sanctuary.js';\n\nimport {\n  $DateIso,\n  $Email,\n  createEnum\n} from './types.js';\n\nconst trace = msg => x => (console.debug (`[${msg}]:`, x), x);\n\n//    $$ :: String -> Array HtmlElement\nconst $$ = s => document.querySelectorAll (s);\n\n//    $1 :: String -> HtmlElement\nconst $1 = s => document.querySelector (s);\n\n//    eitherToFuture :: Either a b -> Future a b\nconst eitherToFuture = S.either (F.reject) (F.resolve);\n\n\n// -- MODEL\n\nconst $Inquiry =$.RecordType ({\n  name: $.NonEmpty ($.String),\n  email: $Email,\n  date: $.NonEmpty ($DateIso),\n  eventType: createEnum ('EventType')\n                        (['Corporate event', 'Wedding', 'Birthday', 'Other']),\n  details: $.String,\n  signup: $.Boolean\n});\n\nconst model = {\n  name: '',\n  email: '',\n  date: '',\n  eventType: '',\n  details: '',\n  signup: false\n}\n\n//    validation :: Model -> Either (Array ValidationError) a\nconst validation = $.validate ($Inquiry);\n\n\n// -- UPDATE\n\nconst HtmlName      = $1 ('[name=\"name\"]');\nconst HtmlEmail     = $1 ('[name=\"email\"]');\nconst HtmlDate      = $1 ('[name=\"date\"]');\nconst HtmlEventType = $1 ('[name=\"eventType\"]');\nconst HtmlDetails   = $1 ('[name=\"details\"]');\nconst HtmlSignup    = $1 ('[name=\"signup\"]');\nconst HtmlSubmit    = $1 ('button');\nconst HtmlValidationOutput = $1 ('#validationOutput');\n\n//    update :: HtmlElement -> Model\nconst update = ({target}) => {\n  switch (target) {\n    case HtmlName:\n      model.name = target.value;\n      break;\n\n    case HtmlEmail:\n      model.email = target.value;\n      break;\n\n    case HtmlDate:\n      model.date = target.value;\n      break;\n\n    case HtmlEventType:\n      model.eventType = target.value;\n      break;\n\n    case HtmlDetails:\n      model.details = target.value;\n      break;\n\n    case HtmlSignup:\n      model.signup = Boolean (target.checked);\n      break;\n\n    default:\n      throw new TypeError ('Unhandled Html Element ' + target.name || target.id || target.className);\n  }\n\n  return model;\n};\n\n\n\n// -- VIEW\n\n//    disable :: HtmlElement -> Boolean -> Future Never Void\nconst disable = HtmlElement => bool => HtmlElement.disabled = bool;\n\nconst disableButton = disable (HtmlSubmit);\n\nconst viewValidation = S.pipe ([\n  S.either (a => (disableButton (true), S.Left (a)))\n           (a => (disableButton (false), S.Right (a))),\n]);\n\n\n\n// -- MAIN\n\n\n\n//    init :: Array (HtmlElement) -> Model\nconst init = S.pipe ([\n  S.map (S.singleton ('target')),\n  S.map (update)\n]);\n\n//    main :: ChangeEvent -> Void\nconst main = S.pipe ([\n  update,         // Object\n  validation,     // Either (Array ValidationError) a\n  viewValidation, // Object\n  show,           // String\n  x => (HtmlValidationOutput.textContent = x, x)\n]);\n// const main = S.compose (model => HtmlValidationOutput.textContent = viewValidation (validation (model)))\n//                        (update);\n\ninit (\n  S.append ($1 ('[name=\"eventType\"]'))\n           (Array.from ($$ ('input')))\n);\n\n$1 ('form').addEventListener ('change', main);\n\n\n// debugging\ntrace ('model') (model)\n"],"names":["flutureEnv","F.reject","F.resolve"],"mappings":"4EAAA,KAAM,GAAI,UAAoB,CAC1B,KAAM,GAAU,SAAS,cAAc,QAAQ,QAC/C,GAAI,GAAW,EAAQ,UAAY,EAAQ,SAAS,iBAChD,OAEJ,SAAW,KAAQ,UAAS,iBAAiB,6BACzC,EAAe,GAEnB,GAAI,kBAAiB,AAAC,GAAc,CAChC,SAAW,KAAY,GACnB,GAAI,EAAS,OAAS,YAGtB,SAAW,KAAQ,GAAS,WACxB,AAAI,EAAK,UAAY,QAAU,EAAK,MAAQ,iBACxC,EAAe,KAG5B,QAAQ,SAAU,CAAE,UAAW,GAAM,QAAS,KACjD,WAAsB,EAAQ,CAC1B,KAAM,GAAY,GAClB,MAAI,GAAO,WACP,GAAU,UAAY,EAAO,WAC7B,EAAO,gBACP,GAAU,eAAiB,EAAO,gBACtC,AAAI,EAAO,cAAgB,kBACvB,EAAU,YAAc,UACvB,AAAI,EAAO,cAAgB,YAC5B,EAAU,YAAc,OAExB,EAAU,YAAc,cACrB,EAEX,WAAwB,EAAM,CAC1B,GAAI,EAAK,GAEL,OACJ,EAAK,GAAK,GAEV,KAAM,GAAY,EAAa,GAC/B,MAAM,EAAK,KAAM,KAEvB,AAAoB,ICjCtB,KAAM,GAAS,EAAE,YACd,SACA,gCACA,IACA,GAAK,OAAO,UAAU,SAAS,KAAM,KAAO,kBAGzC,EAAI,EAAU,OAAQ,CAC3B,WAAY,GACX,IAAK,EAAU,IAAI,OAAQA,GAAY,OAAQ,KCf3C,EAAa,GAAQ,GAAU,EAAE,SACpC,GACA,IACA,GAGG,EACJ,EAAE,YAAa,WACA,uCACA,CAAC,EAAE,SACH,GAEQ,sDAAsD,KAAM,IAK/E,EACJ,EAAE,YAAa,SACA,+DACA,CAAC,EAAE,SACH,GAEQ,oHAAoH,KAAM,ICX7I,EAAQ,GAAO,GAAM,SAAQ,MAAO,IAAI,MAAS,GAAI,GAGrD,EAAK,GAAK,SAAS,iBAAkB,GAGrC,EAAK,GAAK,SAAS,cAAe,GAGjB,EAAE,OAAQC,GAAWC,GAK5C,KAAM,GAAU,EAAE,WAAY,CAC5B,KAAM,EAAE,SAAU,EAAE,QACpB,MAAO,EACP,KAAM,EAAE,SAAU,GAClB,UAAW,EAAY,aACA,CAAC,kBAAmB,UAAW,WAAY,UAClE,QAAS,EAAE,OACX,OAAQ,EAAE,UAGN,EAAQ,CACZ,KAAM,GACN,MAAO,GACP,KAAM,GACN,UAAW,GACX,QAAS,GACT,OAAQ,IAIJ,EAAa,EAAE,SAAU,GAKzB,EAAgB,EAAI,iBACpB,EAAgB,EAAI,kBACpB,EAAgB,EAAI,iBACpB,EAAgB,EAAI,sBACpB,EAAgB,EAAI,oBACpB,EAAgB,EAAI,mBACpB,EAAgB,EAAI,UACpB,EAAuB,EAAI,qBAG3B,EAAS,CAAC,CAAC,YAAY,CAC3B,OAAQ,OACD,GACH,EAAM,KAAO,EAAO,MACpB,UAEG,GACH,EAAM,MAAQ,EAAO,MACrB,UAEG,GACH,EAAM,KAAO,EAAO,MACpB,UAEG,GACH,EAAM,UAAY,EAAO,MACzB,UAEG,GACH,EAAM,QAAU,EAAO,MACvB,UAEG,GACH,EAAM,OAAS,QAAS,EAAO,SAC/B,cAGA,KAAM,IAAI,WAAW,0BAA4B,EAAO,MAAQ,EAAO,IAAM,EAAO,WAGxF,MAAO,IAQH,EAAU,GAAe,GAAQ,EAAY,SAAW,EAExD,EAAgB,EAAS,GAEzB,EAAiB,EAAE,KAAM,CAC7B,EAAE,OAAQ,GAAM,GAAe,IAAO,EAAE,KAAM,KACpC,GAAM,GAAe,IAAQ,EAAE,MAAO,OAU5C,EAAO,EAAE,KAAM,CACnB,EAAE,IAAK,EAAE,UAAW,WACpB,EAAE,IAAK,KAIH,EAAO,EAAE,KAAM,CACnB,EACA,EACA,EACA,EACA,GAAM,GAAqB,YAAc,EAAG,KAK9C,EACE,EAAE,OAAQ,EAAI,uBACJ,MAAM,KAAM,EAAI,YAG5B,EAAI,QAAQ,iBAAkB,SAAU,GAIxC,EAAO,SAAU"}