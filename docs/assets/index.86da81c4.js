import{$ as o,s as g,e as L,r as O,a as Z,b as D,c as l,d as m,f as j}from"./vendor.a3d920ac.js";const C=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))b(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&b(h)}).observe(document,{childList:!0,subtree:!0});function d(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function b(n){if(n.ep)return;n.ep=!0;const a=d(n);fetch(n.href,a)}};C();const F=o.NullaryType("Event")("https://devdocs.io/dom/event")([])(e=>Object.prototype.toString.call(e)==="[object Event]"),t=g.create({checkTypes:!1,env:g.env.concat(L).concat(F)}),I=e=>r=>o.EnumType(e)("")(r),V=o.NullaryType("DateIso")("https://www.w3.org/QA/Tips/iso-date")([o.String])(e=>/^\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2]\d|3[0-1])$/.test(e)),B=o.NullaryType("Email")("https://datatracker.ietf.org/doc/html/rfc5322#section-3.4.1")([o.String])(e=>/^[A-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?(?:\.[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?)*$/i.test(e)),p=e=>r=>(console.debug(`[${e}]:`,r),r),s=e=>document.querySelector(e);t.either(O)(Z);const P=e=>r=>d=>(e[r]=d,d),u=e=>r=>(e(r),r),x=o.RecordType({name:o.NonEmpty(o.String),email:B,date:o.NonEmpty(V),eventType:I("EventType")(["Corporate event","Birthday","Other"]),details:o.String,signup:o.Boolean}),i={name:"",email:"",date:"",eventType:"",details:"",signup:!1},J=o.validate(x),c=s('form[name="inquiry"]'),K=s("#validationOutput"),T=s('[type="submit"]'),S=c.querySelector(".formError"),H=c.querySelector(".nameError"),N=c.querySelector(".emailError"),$=c.querySelector(".dateError"),k=c.querySelector(".eventTypeError"),y=s('[name="name"]'),f=s('[name="email"]'),v=s('[name="date"]'),E=s('[name="eventType"]'),w=s('[name="details"]'),q=s('[name="signup"]'),M=[y,f,v,E,w,q],A=({target:e})=>{switch(e){case y:i.name=t.trim(e.value);break;case f:i.email=t.trim(e.value);break;case v:i.date=e.value;break;case E:i.eventType=e.value;break;case w:i.details=t.trim(e.value);break;case q:i.signup=Boolean(e.checked);break;default:throw new TypeError("update :: Unhandled HtmlElement "+e.name||e.id||e.className)}return i},U=e=>r=>{switch(r){case S:case H:case N:case $:case k:r.textContent=e,r.classList.remove("invisible");break;case y:case f:case v:case E:r.setCustomValidity(e);break;default:throw new TypeError("displayError :: Unhandled HtmlElement")}},Q={$$:"You have invalid form inputs",name:"Name is required",email:"Email is required and must be a valid email address",date:"An event date is required",eventType:"We currently do not do weddings"},R={$$:[S],name:[y,H],email:[f,N],date:[v,$],eventType:[E,k]},W=t.pipe([t.map(e=>{let r=Q[e.name];return r===void 0?t.Nothing:t.Just({name:e.name,text:r})}),t.reduce(e=>t.maybe(e)(r=>t.insert(r.name)(r.text)(e)))({})]),Y=t.either(t.compose(t.Just)(W))(t.K(t.Nothing)),_=t.pipe([t.map(t.pairs),t.map(t.map(u(t.pair(e=>r=>t.map(U(r))(R[e]))))),p("after displayError"),t.ifElse(t.isNothing)(u(()=>T.disabled=!1))(u(()=>T.disabled=!0))]),z=t.pipe([t.map(t.singleton("target")),t.map(A)]),G=u(t.pipe([D,P(K)("textContent")])),X=t.pipe([l(A),p("after update"),t.map(p("map after update")),m(l(J)),m(l(G)),m(l(Y)),m(l(_))]),ee=j(console.error)(console.debug);z(M);c.addEventListener("change",t.compose(ee)(X));p("model")(i);
//# sourceMappingURL=index.86da81c4.js.map
